description: List all public crocodiles
actors:
  - actor: ACTOR1
    segments:
      - segment: 1
        actions:
          - description: Call the GET /public/crocodiles/ API
            action: org.getopentest.actions.HttpRequest
            args:
              url: https://test-api.k6.io/public/crocodiles/
              headers:
                Content-Type: application/json
              verb: GET
              $localData:
                crocodiles: $output.body;
              
          - description: |
              8 Crocodiles are returned
            script: |
              var crocodiles = $output.body;
              if (!crocodiles || crocodiles.length != 8) {
                  $fail("The response body was invalid or contained no crocodiles.");
              } else {
                  $log($format("{0} crocodiles returned.", crocodiles.length));
              }